services:
    postgres:
        image: postgres:latest
        container_name: postgres
        environment:
            POSTGRES_USER: ${POSTGRES_USER}
            POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
            POSTGRES_DB: ${POSTGRES_DB}
        networks:
            - resume_network
    n8n:
        image: n8nio/n8n:latest
        container_name: n8n
        ports:
            - "5678:5678"
        environment:
            DB_TYPE: postgresdb
            DB_POSTGRESDB_HOST: postgres
            DB_POSTGRESDB_PORT: 5432
            DB_POSTGRESDB_DATABASE: ${POSTGRES_DB}
            DB_POSTGRESDB_USER: ${POSTGRES_USER}
            DB_POSTGRESDB_PASSWORD: ${POSTGRES_PASSWORD}
        depends_on:
            - postgres
        networks:
            - resume_network
    resumeAnalyzer:
        build: ./
        container_name: resume_analyzer
        ports:
            - "8000:8000"
        volumes:
            - ./backend:/app/backend
        networks:
            - resume_network
networks:
    resume_network
        
        

